# 프로세스
# PCB
# 컨텍스트 스위칭 
# 프로세스 흐름

# 프로세스 스케줄링 
![993FEE355BB5F49021](https://user-images.githubusercontent.com/50267433/138325487-3b8d6325-2375-415f-84ec-32552e8e01bc.jpg)

**생성**    
* 프로그램이 OS 커널에 등록되었으며 PCB가 생성된 상태를 의미한다.    
* 단, 할당할 메모리 크기에 대한 검사가 이루어지지 않아 아직 OS에 의해 승인을 받지 못한 상태이다.   
* 메모리 공간을 할당 받으면 **장기 스케줄러로 인해 `준비` 상태가 된다**   
* 만약 메모리 공간이 부족하면 프로세스는 중단 상태가 된다. 
  
**중단**  
* 메모리 공간이 부족할 때, 메모리를 회수해도 문제가 되지 않을 프로세스들을 보류시킨다.    
* **Swapping :** 보류시킨 프로세스를 메모리로 올리는 작업을 이라고 한다.
    * **Swapped Out:** 메모리 공간을 뺏기고 디스크로 나가는 것 
    * **Swapped In:** 다시 메모리로 들어오는 것   

**준비**
* OS 커널에 등록된 **프로세스가 Ready Queue에 등록된 상태**      
* 메모리에만 올라와 **실행 준비중인 상태**로 **프로그램을 실행시킬 CPU를 아직 할당 받지 못했다.**      
* CPU만 할당받으면 언제든지 실행 가능한 상태이기도 하다.    

**실행**   
* Ready Queue에 등록된 프로세스가 **단기 스케줄러(알고리즘)에 의해 CPU를 할당 받아 실행중인 상태다.**   
* **Context Switching :** CPU를 할당 받은 프로세스를 다른 프로세스로 교체하는 작업    
    * **Timeout :** 
        * 프로세스 수행 시간 초과    
        * Ready 상태로 돌아간다.        
    * **EventWait :** 
        * I/O 입출력으로 또는 바로 확보될 수 없는 자원 요청으로 인한 대기    
        * 대기/보류 상태로 돌아간다.     
        * 이후, Ready 상태로 돌아간다.     
    * 프로세스는 독립된 메모리를 사용하기에 캐싱을 지우고 새 프로세스 정보로 캐싱을 다시 만든다.    

**대기/보류**   
* I/O 입출력으로 또는 바로 확보될 수 없는 자원 요청으로 인한 대기        
* CPU를 양도하고 작업이 끝나기를 대기하는 상태, 이후 재 실행을 위해 Ready로 돌아간다.    
   
**종료**      
* 프로세스의 실행이 완전히 종료되었다는 상태를 나타낸다.     
* 종료되었으니 **할당된 CPU와 자원을 모두 반납하고 종료된다.**     
* PCB는 OS(커널)에 존재하므로 해당 PCB 또한 제거되면 프로세스는 완벽히 종료되었다 말할 수 있다.   

# 스케줄러   

![image](https://user-images.githubusercontent.com/50267433/138328478-5445bf04-622a-4c3c-8ae5-5baa04d0809a.png)


![큐](https://user-images.githubusercontent.com/50267433/138326508-fe43d209-d893-4f10-8224-a17f98a568b4.png)

프로세스를 스케줄링하기 위한 Queue 에는 세 가지 종류가 존재한다.

* Job Queue : 현 시스템 내에 있는 모든 프로세스의 집합
* Ready Queue : 현 메모리 내에 있으면서 CPU 를 잡아서 실행되기를 기다리는 프로세스의 집합
* Device Queue : Device I/O 작업을 대기하고 있는 프로세스의 집합

![993FEE355BB5F49021](https://user-images.githubusercontent.com/50267433/138325487-3b8d6325-2375-415f-84ec-32552e8e01bc.jpg)

각각의 Queue 에 프로세스들을 넣고 빼주는 스케줄러에도 크게 세 가지 종류가 존재한다.   
   
* 장기 스케줄링 : 어떤 프로세스를 커널에 등록할 것인가를 정한다.  
* 중기 스케줄링 : 어떤 프로세스에게 메모리를 할당 할 것인가를 정한다.  
* 단기 스케줄링 : 어떤 프로세스에게 CPU를 할당할 것인가를 정한다.     

## 장기 스케줄러(JOB Scheduler)     
디스크에 저장된 여러 프로세스들 중에서           
**어떤 프로세스에 메모리를 할당하여 ready queue로 보낼지 결정하는 역할을 한다.**             

* 메모리와 디스크 사이의 스케줄링을 담당    

## 중기 스케줄러  
     
너무 많은 프로세스에게 메모리를 할당해 시스템의 성능이 저하대는 경우를 방지하기 위해
메모리에 적재되어 있는 프로세스의 수를 관리하는 역할을 한다.   










# JWT
JWT는 정보를 JSON 객체를 사용해서 토큰 자체의 정보들을 저장하고 있는 `Web Token`이다.      
JWT는 `Header`, `Payload`, `Signature` 3 개의 부분으로 구성되어져 있다.   
  
* Header: **시그니처를 해싱하기 위한 알고리즘 정보들이 담겨져있다.(변경 가능)**         
* Payload: 서버와 클라이언트가 주고 받는, **시스템에서 실제로 사용될 정보에 대한 내용들을 담고 있다.**     
* Signature: 토큰의 유효성 검증을 위한 문자열로 해당 문자열을 통해 서버에서는 이 토큰이 유효한 토큰인지 검증한다.     
  
즉, Signature를 통해 인증을 하는데 이를 위한 보안 알고리즘(공개키/기본키 or 비밀키)이 Header에 들어있으며    
인증이 완료되면 `Payload`의 데이터를 통해 서로 정보를 교환한다.   


쿠키나 세션을 이용한 인증보다 안전하고 효율적이다.(이 부분은 상황마다 다르다.)     
    
```http
# http_request_message header
Authorization: <type> <credentials> 
```

일반적으로 `Request Header`에 담겨져 오기 때문에 `Header 값`을 확인해서 가져올 수 있다.     

## 장단점    
### 장점    
* 중앙 인증 서버, 데이터 스토어(저장소)에 대한 의존성이 없어서 수평 확장에 유리        
  **설명 :** 세션을 동기화할 필요 없이 토큰의 유무만으로 인증/인가가 가능        
* [Base64 URL Safe Encoding](https://babyprogram.tistory.com/50) 이라 URL, Cookie, Header 어떤 형태로도 사용 가능  
* [Stateless 한 서버 구현](https://junshock5.tistory.com/83) 가능     
* 웹이 아닌 모바일에서도 사용 가능
* 인증 정보를 다른 곳에서도 사용 가능 (OAuth)     
    
### 단점  
* `Payload` 에 저장하는 정보가 많아지면 네트워크 사용량 증가(트래픽이 증가), 데이터 설계 고려 필수    
* 토큰이 클라리언트에 저장, 서버에서 클라이언트의 토큰을 조작 불가능 
* 다른 사람이 토큰을 decode 하여 데이터 확인 가능 
* 토큰을 탈취당한 경우 대처하기 어려움
    * 기본적으로는 서버에서 관리하는게 아니다보니 탈취당한 경우 강제 로그아웃 처리가 불가능   
    * 토큰 유효시간이 만료되기 전까지 탈취자는 자유롭게 인증 가능  
    * 그래서 유효시간을 짧게 가져가고 refresh token 을 발급하는 방식으로 많이 사용   
 


  
  
